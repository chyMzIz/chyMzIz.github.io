"use strict";var searchFunc=function(t,i,l){$.ajax({url:t,dataType:"xml",success:function(t){var r,n=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("link",this).attr("href")}}).get(),e=document.getElementById(i);e&&(r=document.getElementById(l),e.addEventListener("input",function(){var p=[],f=function(t){for(var e,r=[],n=0;n<t.length;n++)for(e=n+1;e<t.length+1;e++)r.push(t.slice(n,e).join(" "));return r}(this.value.trim().toLowerCase().split(" ")).sort(function(t,e){return e.split(" ").length-t.split(" ").length});if(r.innerHTML="",!(this.value.trim().length<=0)&&(n.forEach(function(t){var e=0;t.title&&""!==t.title.trim()||(t.title="Untitled");var r,n,i,l,s,a,c=t.title.trim().toLowerCase(),u=t.content.trim().replace(/<style([\s\S]*?)<\/style>/gi,"").replace(/<script([\s\S]*?)<\/script>/gi,"").replace(/<figure([\s\S]*?)<\/figure>/gi,"").replace(/<\/div>/gi,"\n").replace(/<\/li>/gi,"\n").replace(/<li>/gi,"  *  ").replace(/<\/ul>/gi,"\n").replace(/<\/p>/gi,"\n").replace(/<br\s*[\/]?>/gi,"\n").replace(/<[^>]+>/gi,""),o=t.url,g=-1,h=-1;""!==u&&f.forEach(function(t){r=c.indexOf(t),g=u.indexOf(t),(0<=r||0<=g)&&(e+=1,g<0&&(g=0),h<0&&(h=g))}),0<e&&((n={}).rank=e,n.str="<li><a href='"+o+"' class='search-result-title'>"+c+"</a>",0<=h&&(l=h+80,(i=h-20)<0&&(i=0),0==i&&(l=100),l>u.length&&(l=u.length),a=u.substr(i,l),s=new RegExp(f.join("|"),"gi"),a=a.replace(s,function(t){return'<em class="search-keyword">'+t+"</em>"}),n.str+='<p class="search-result">'+a+"...</p>"),n.str+="</li>",p.push(n))}),p.length)){p.sort(function(t,e){return e.rank-t.rank});for(var t='<ul class="search-result-list">',e=0;e<p.length;e++)t+=p[e].str;t+="</ul>",r.innerHTML=t}}))}})};